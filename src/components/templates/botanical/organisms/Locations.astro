---
const { invitation } = Astro.props;
const customData = invitation?.custom_data || {};

const ceremonyName =
    customData.ceremony?.name || "Parroquia de San Miguel Arcángel";
const ceremonyAddress =
    customData.ceremony?.address ||
    "Centro Histórico, San Miguel de Allende, Gto.";
const ceremonyMaps = customData.ceremony?.maps_url || "#";
const ceremonyWaze = customData.ceremony?.waze_url || "#";

const receptionName = customData.reception?.name || "Hacienda Los Eucaliptos";
const receptionAddress =
    customData.reception?.address ||
    "Jardín Principal, Carretera a Dolores Hidalgo Km. 3.5.";
const receptionMaps = customData.reception?.maps_url || "#";
const receptionWaze = customData.reception?.waze_url || "#";
---

<section class="locations-section" id="ubicaciones">
    <h2 class="locations-main-title">Ubicaciones</h2>

    <div class="locations-container">
        <!-- Ceremonia -->
        <div class="location-card">
            <h3 class="location-subtitle">CEREMONIA</h3>
            <div class="location-details">
                <p class="location-name">{ceremonyName}</p>
                <p class="location-address">
                    {ceremonyAddress}
                </p>
            </div>
            <div class="location-buttons">
                <a
                    href={ceremonyMaps}
                    class="location-btn"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <svg
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                        ></path>
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    VER EN MAPS
                </a>
                <a
                    href={ceremonyWaze}
                    class="location-btn waze"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <svg
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                    VER EN WAZE
                </a>
            </div>
        </div>

        <!-- Recepción -->
        <div class="location-card">
            <h3 class="location-subtitle">RECEPCIÓN</h3>
            <div class="location-details">
                <p class="location-name">{receptionName}</p>
                <p class="location-address">
                    {receptionAddress}
                </p>
            </div>
            <div class="location-buttons">
                <a
                    href={receptionMaps}
                    class="location-btn"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <svg
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                        ></path>
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    VER EN MAPS
                </a>
                <a
                    href={receptionWaze}
                    class="location-btn waze"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <svg
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                    VER EN WAZE
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    .locations-section {
        padding: 4rem 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 72rem;
        margin: 0 auto;
        position: relative;
    }

    .locations-main-title {
        font-family: var(--font-script);
        font-size: 3.125rem;
        color: var(--color-verde);
        margin-bottom: 3rem;
        text-align: center;
        line-height: 1.2;
    }

    .locations-container {
        display: flex;
        flex-direction: column;
        gap: 4rem;
        width: 100%;
    }

    .location-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        background-color: color-mix(
            in srgb,
            var(--color-white) 60%,
            transparent
        );
        padding: 2.5rem 1.5rem;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
    }

    .location-subtitle {
        font-family: var(--font-sans);
        font-size: 0.85rem;
        letter-spacing: 0.15em;
        color: var(--color-verde);
        margin-bottom: 1.5rem;
        border-bottom: 1px solid var(--color-verde);
        padding-bottom: 0.5rem;
    }

    .location-details {
        margin-bottom: 2rem;
    }

    .location-name {
        font-family: var(--font-serif);
        font-size: 1.5rem;
        color: var(--color-carbon);
        margin-bottom: 0.5rem;
    }

    .location-address {
        font-family: var(--font-sans);
        font-size: 0.875rem;
        color: var(--color-carbon);
        font-weight: 300;
        line-height: 1.6;
        opacity: 0.8;
    }

    .location-buttons {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;
        max-width: 16rem;
    }

    .location-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.875rem 1.5rem;
        background-color: transparent;
        border: 1px solid var(--color-verde);
        color: var(--color-verde);
        font-family: var(--font-sans);
        font-size: 0.75rem;
        letter-spacing: 0.1em;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .location-btn:hover {
        background-color: var(--color-verde);
        color: var(--color-white);
    }

    .location-btn.waze {
        border-color: var(--color-carbon);
        color: var(--color-carbon);
    }

    .location-btn.waze:hover {
        background-color: var(--color-carbon);
        color: var(--color-white);
    }

    @media (min-width: 768px) {
        .locations-section {
            padding: 5rem 1.5rem;
        }

        .locations-main-title {
            font-size: 4.375rem;
            margin-bottom: 5rem;
        }

        .locations-container {
            flex-direction: row;
            justify-content: center;
            gap: 2rem;
        }

        .location-card {
            flex: 1;
            padding: 3rem 2rem;
            max-width: 28rem;
        }

        .location-buttons {
            flex-direction: row;
            max-width: 100%;
        }

        .location-btn {
            flex: 1;
            padding: 0.75rem 0.5rem;
            font-size: 0.7rem;
        }
    }
</style>
